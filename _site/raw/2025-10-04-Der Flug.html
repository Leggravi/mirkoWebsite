<!DOCTYPE html>
<html lang="de">
<head>
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Mirko in Brasilien</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Mirko in Brasilien" />
<meta name="author" content="Leggravi" />
<meta property="og:locale" content="de_DE" />
<meta name="description" content="Mirko in Brasilien - Ein Blog über meine Erfahrungen und Erlebnisse während meines Kurzzeiteinsatzes in der Missionsstation Alves de Barros in Brasilien." />
<meta property="og:description" content="Mirko in Brasilien - Ein Blog über meine Erfahrungen und Erlebnisse während meines Kurzzeiteinsatzes in der Missionsstation Alves de Barros in Brasilien." />
<link rel="canonical" href="http://localhost:4000/raw/2025-10-04-Der%20Flug.html" />
<meta property="og:url" content="http://localhost:4000/raw/2025-10-04-Der%20Flug.html" />
<meta property="og:site_name" content="Mirko in Brasilien" />
<meta property="og:image" content="http://localhost:4000/assets/img/seo.jpg" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/assets/img/seo.jpg" />
<meta property="twitter:title" content="Mirko in Brasilien" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Leggravi"},"description":"Mirko in Brasilien - Ein Blog über meine Erfahrungen und Erlebnisse während meines Kurzzeiteinsatzes in der Missionsstation Alves de Barros in Brasilien.","headline":"Mirko in Brasilien","image":"http://localhost:4000/assets/img/seo.jpg","url":"http://localhost:4000/raw/2025-10-04-Der%20Flug.html"}</script>
<!-- End Jekyll SEO tag -->


  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XNR3TD2Z94"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XNR3TD2Z94');
</script>
  
  <meta charset="UTF-8">
  <title>
  Mirko in Brasilien
</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  

  <meta name="theme-color" content="#1fa2ff">
 <script>
  function switchTheme(theme) {
    document.body.setAttribute('data-theme', theme);
    localStorage.setItem('theme', theme);
    if (window.handleStarfieldTheme) handleStarfieldTheme();
    if (window.handlePollenTheme) handlePollenTheme();
  }

  window.addEventListener('DOMContentLoaded', () => {
    const saved = localStorage.getItem('theme');
    if (saved) {
      document.body.setAttribute('data-theme', saved);
    } else {
      document.body.setAttribute('data-theme', 'light');
    }
    if (window.handleStarfieldTheme) handleStarfieldTheme();
    if (window.handlePollenTheme) handlePollenTheme();
  });
</script>

  <link rel="stylesheet" href="/assets/css/style.css">

<link rel="icon" href="/assets/favicon.svg" type="image/svg+xml">
<!-- Fallback für alte Browser -->
<link rel="alternate icon" href="/assets/favicon.ico" type="image/x-icon">

<link rel="manifest" href="/manifest.json">

<!--<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(async function(OneSignal) {
    await OneSignal.init({
      appId: "dbff754e-f042-45ca-a0a1-ccfb8ed9cf4d",
      safari_web_id: "web.onesignal.auto.514888af-c9d7-482b-90d4-9de98d872128",
      notifyButton: {
        enable: true,
      },
      allowLocalhostAsSecureOrigin: true,
    });
  });
</script> -->


<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js')
      .then(reg => console.log("SW registered:", reg.scope))
      .catch(err => console.error("SW registration failed:", err));
  }
</script>



  
</head>
<body>
  <!-- STERNENHIMMEL CANVAS (nur für Game Theme sichtbar) -->
<canvas class="starfield-bg"></canvas>
<canvas class="forest-pollen"></canvas>
<div class="forest-rays"></div>
<div class="forest-rays2">
  <div class="ray ray1"></div>
  <div class="ray ray2"></div>
  <div class="ray ray3"></div>
  <div class="ray ray4"></div>
</div>


  <div class="topbar">
    <div class="topbar-nav">
      <a href="/">🏠</a>
      <a href="/blog/">✍️</a>
    </div>
    <div class="topbar-themes theme-switcher" role="group" aria-label="Theme Switcher">
      <button title="Light" onclick="switchTheme('light')" aria-label="Light"><span>☀️</span></button>
      <button title="Dark" onclick="switchTheme('dark')" aria-label="Dark"><span>🌑</span></button>
      <button title="Blue" onclick="switchTheme('blue')" aria-label="Blue"><span>🔵</span></button>
      <button title="Forest" onclick="switchTheme('forest')" aria-label="Forest"><span>🌲</span></button>
      <button title="Game" onclick="switchTheme('game')" aria-label="Game"><span>🕹️</span></button>
    </div>
  </div>
  <g class="wrapper">
    <aside class="sidebar">
      <img src="/assets/img/mirko.jpg" alt="Mirko" class="profile-img">
      <h2>Navigation</h2>
      <ul>
        <li><a href="/">🏠 Start</a></li>
        <li><a href="/blog/">✍️ Blog</a></li>
      </ul>

      <h3 style="margin-top:2em;">Thema wechseln</h3>
      <div class="theme-switcher" role="group" aria-label="Theme Switcher">
        <button title="Light" onclick="switchTheme('light')" aria-label="Light"><span>☀️</span></button>
        <button title="Dark" onclick="switchTheme('dark')" aria-label="Dark"><span>🌑</span></button>
        <button title="Blue" onclick="switchTheme('blue')" aria-label="Blue"><span>🔵</span></button>
        <button title="Forest" onclick="switchTheme('forest')" aria-label="Forest"><span>🌲</span></button>
        <button title="Game" onclick="switchTheme('game')" aria-label="Game"><span>🕹️</span></button>
      </div>
      <div style="height:80px;"></div> <!-- Abstandshalter -->
      <p></p>

    </aside>

    <main class="content">
      
<p>Hallo liebe Leser</p>

<p>dies ist mein erstes Update <strong>direkt aus Brasilien</strong> — kurz nach der Ankunft. In den nächsten Zeilen erzähle ich chronologisch, wie die Reise lief (Verspätungen, kuriose Anrufe, Barbie und Burger, was die ersten Stunden hier waren und wie es mir gerade geht.</p>

<p>Philipper 4 (ab 10)!
Impfung gut verlaufen, Freizeit hat sehr viel Spaß gemacht (Gott kann aus downs ups machen)
Flug: einfach 700€ an einem Tag verbrannt
Seltsame Anrüfe mit widersprüchlichen Informationen und jeweils eigenen Tipps + was ich dabei/ nicht dabei haben soll</p>

<p>Matthäus 6 (Pergpredigt (Herzstück)) ab 24. Macht euch keine Sorgen! (Was ihr anziehen sollt usw (wo ich heute nochmal im ca war, um Oberteil zu kaufen))</p>

<p>Zugfahrten haben viel Potential sich zu beschweren. Nach dem Flug bin ich da aber vergebens:
Gleise übersichtilcher (+kein langes laufen von Gleis zu Gleis (halbe Stunde fußweg), kein Stundenlanges früher da sein (kein Checkin und Gewichts+ Gepäckbegrenzung ). Man kann essen mitnehmen, viel übersichtlicher (einfach im db Navigator aktuelle Verspätungwn andere Züge möglich usw), man kann nicht einfach raus gehen (Stadt erkunden oder so)</p>

<p>Dafür hat man im Flugzeug immerhin einen Sitzplatz, den man sogar nach hinten tuen kann. Sehr angenehme Aufenthaltshallen (Steckdosen, WLAN, gemütlich eingerichtet, shops), coole Förderbänder, Sauberroboter usw 
Preis: Deutschlandticket vergleichsweise günstig, man ist aber ewig unterwegs</p>

<p>Letzte Vorbereitungen: wdl als Mitarbeiter macht echt spaß (man kann verrückte Sachen machen, hat viele Freiheiten, muss nichts bezahlen, trotzdem voll beim program dabei), war vor allem schön jeden Tag einen Kurzimpuls für Kleingruppe vorzubereiten (da man da für sich selbst am meisten mitnimmt (muss alle Fragen klären, nachforschen etc)), habe viele nette Leute kennengelernt und 2 neue Software entdeckt (einmal für Liedfolien (openlp) und einmal für bildersortierung (cam)) 
Ausweise (Reisepass usw) kam alles zuverlässig an
Impfung hat wieder super funktioniert! (Vielen Dank an Uta Dürr!)
Jugendwochenende war auch sehr schön. Hier hat es mit auch besonders gefallen mitmachen zu könenn, da ich so einen Quizabend und einen Ted talk zu Another Love halten könnte. Auf der Rückweg habe ich lauter Äpfel gefunden, so dass wir viele leckere Apfelgerichte die letzte Woche hatten</p>

<p>Allerletzte Vorbereitungen: habe leider nicht alles geschafft, was ich wollte. Die Tage gingen dann doch immer schnell Rum (teilweise YouTube geschuldet). Ich habe dann aber doch hoffentlich alles zumindest geschafft einzupacken (sehe ich dann die nächsten Wochen). Ansonsten hat mir mein Papa geholfen, der schön einige Male geflogen ist und mir viele Tipps aus seinem langjährigen Erfahrungen geben könnte (was kommt wohin, was sollte ich nicht mitnehmen, was schon etc). So hatte ich dann insgesamt 6 (2 Anrufen, vom Vorbereitungesseminar, von Papa + Internet, von mir selbst, von chatgpt) Packlisten, die ich lustig nach meinen Wünschen kombiniert habe. (zB kam einmal der Anruf ich solle noch dringend sehr schicke lange Sachen mitnehmen, da in Brasilien selbst die ßrmsten auf ordentliche Kleidung beim Gottesdienst achten. Der nächste Anruf teilte mir mit ich solle nichts feines mitnehmen und nichts weißes, da alles zu sammengewaßchen wird und die schönen Sachen eh durchs Klima kaputt gehen würden. Da hebicu mich dann gür die entspannter Methode (keinen schicken Sachen) entschieden, was zugleich auch dem Tipp meines Vaters folgte (alles, was du mitnimmst kann verloren gehen)) (vlt schreibe ich im nächsten Rundbrief nochmal ausfürhlicher über mein Packen/was ich dabei habe, wenn ich entweder weiß, was ich tatsächlich brauche/ nicht brauchen oder wenn das gewünscht wird)
Dann ging es also los am Donnerstag um 14 Uhr mit dem Auto. Nach längerer Gate suche saßen wir dann da. Nochmal alle versammelt (ganze Familie), es war kein schöner Abschied, kein würdevoller und kein ausführlicher. Dafürnwar im Stress keine Zeit (vor allem bei mir dann nicht). Trotzdem denke ich jetzt gerne zurück. Ich werde sie vermissen. Sogar meine Schwester ist extra nochmal einen großen Umweg gefahren nur um mich zu sheen. Aber ich war noch nie gut im reden/mit anderen. Deswegen war es eher ein kurzer, Menchanishcer Abschied. Was aber vielleicht ganz gut war um keine ersten Tränen zu erzeugen. Die kommen dann vielleicht erst die nächsten Tage
Naja dort stieß ich auch mit Benjamin zusammen. Er gab mir noch einen Koffer für die Dipm mit Ostersüßigkeiten und Windeln. Es lief alles Problemlos und wir sind gut in München gestartet. In Madrid aber mussten wir auf den verspäteten Flieger warten und das Gate wechseln naja
Flug hat gut geklappt und meine Meinung zu Flügen hat sich erweitert:
Wenn man bei der Bahn den Zug nicht erwischt muss man schauen, wie man weiterkommt. Hier kümmern sie sich drum, dass du alternativen bekommst, rufen dich sogarit Namen auf. Die gestrige Verspätetung lässt sich in so weit verzeihen, dass die Sitze sehr gemütlich waren (wie erste Klasse+ man könnte sie nach hinten kippen), es inbegriffen Essen gab, es coole Filme gab (habe Minecraft Movie und Barbie geschsut). Als Entschädigung haben wir dann in Sao Paulo 100 Währung bekommen (etwa 16€), was nach wenig klingt ich mir aber dafür 2x den leckersten Bürger und meine Lieblingspommes mit mega leckerer Soße holen könnte (mhmhm). Zudem habe ich in der Zeit den Flughafen endlich verlassen dürfen und habe einen Himmel über mir gesehen (nach vielen Stunden eingesperrt)
Ich merke, dass ich sehr müde bin. So wie ich dir letzten Tag kaum etwas mitbekommen habe, ist es jetzt also traumhaft. Ich fühle mich gar nicht so, als würde es jetzt losgehen. Und durch die Zeitverschiebung und das viele am Handy warten, denke ich gar nicht mehr klar. Ich finde zB plötzlich meinen Socken im Rucksack oder vergessen beinahe meine Schlafmaske im Flugzeug Hilfe
Es ist sehr angenehm zu zweit zu sein. Nicht nur, das man mehr sieht, sich unterhalten kann, gemeinsam Freude und Leid teilt. Nein, es kann immer jmd auf das Gepäck “aufpassen” während sich der andere frei bewegt. Für mich ist es besonders praktisch, da sich Benjamin meistens um alles kümmert
nach Campo Grande hat der Flug gut geklappt. Hier (noch in sao Paulo) war der check in deutlich entspannter al in Deutschland: Die Koffer konnte man selbst aufs Förderband legen (wodurch es keine Schlange gab) und die Kontrolle war auch entspannt (konnte eine Pepsi mitnehmen und einfach durch dieses scan ding laufen). 
In campo grande wurden wir dann abgeholt und zu einer Busstation gefahren. (der bus war leider schon voll, deswegen mussten wir 5 Stunden auf den nächstenn warten deswegen hatte man Zeit durch die Stadt zu laufen: Sehr interessante(andere) Infrastruktur: Asphalt wechsellt sich mit Schotter und Erde ab und die Strommasten sehen alle sehr abendteurlich aus. Alles ist aber schön grün (was wir in Dt leider nicht so haben und langsma probieren auf zu grünen)). DIe Busfahrt war sehr  angenehm, weil die sitze super angenehm waren, es kaum gewackelt hat, niemand mich gestört hat und ich viieel Beinfreiehet (endlich hatte), sprich ich konnte sehr gut schalfen. (als ich dann geweckt wurde musste ich schnell raus und die wolen immer meinen Pass sehene (in Dt brauche ich doch auch keinen Pass zum Busfahren)). Dann wurden wir abgeholt von einem Opa und einem Jungen in einem Sprinter. Es war eine “abenteuerliche” Fahrt, da wir einen Schotterweg durch den Jungel gefahren sin (der jetzt in der Trockenzeit zwar sehr gut gemacht ist, aber trotzdem plötzlihc ein schlagloch oder eine schmale brücke hat) Und da war ich dann in Alves de Barros!!
(habe dann 2 stunden nochmal geschlafen und durfe heute morgen ein herlichstes Früühstück und führung über das schöne Gelände genießen. Jetzt sitze ich in meinnem Zimmer und schreibe den Blog, da wir das Wochenende frei haben (perfekt))
Liebe Grüße, bis zum nächsten Mal euer Miriko (über meine ersten Tage schreibe ich dann vlt nächstes Mal)</p>

<p>Ausschnitte vom Flug könnt ihr in Kürze auf YouTube sehen
Ach und Portugiesisch habe ich jetzt angefangen seit Sonntag auf Duolingo und busuu zu lernen. Ich kann jetzt einen Kaffee mit Eis bestellen und fragen ob du James heißt und aus Japan kommst</p>

<p>!Ted talk hier, Sachen, die ich bei wdl und jugendwochenende geistlich gelernt habe (auf neuen Blog)
! FAQ/Abstimmungssektion 
! Tagesvers funktioniert nciht</p>

<p>Meine Vorsätze/Pläne/Ideen: Sport (Joggen, Training, Parcour), Portugiesisch lernen, Jagen gehen/ schwimmen/ etc Aktionen mit Einheimischen oder allein, Bibel lesen/ Bibel Studium, viele neue Arbeit Kennenlernen, mich selbst und Gott kennenlernen 
Anders Packen: Zahnbürste, Wechselsocken im Handgepack</p>

    </main>
    <div class="toc">
      <h3>Inhalt</h3>
      <ul id="toc-list"></ul>
    </div>
  </g>

  
  <script>
  // NUR Überschriften aus dem Content-Bereich für den TOC verwenden!
  const toc = document.getElementById("toc-list");
  const content = document.querySelector(".content");
  const headers = Array.from(content.querySelectorAll("h2, h3"));
  let h2Map = {};

  headers.forEach(el => {
    const id = el.id || el.textContent.trim().toLowerCase().replace(/\s+/g, "-");
    el.id = id;
    if (el.tagName === "H2") {
      const li = document.createElement("li");
      li.innerHTML = `<a href="#${id}">${el.textContent}</a>`;
      toc.appendChild(li);
      h2Map[id] = li;
    } else if (el.tagName === "H3") {
      // Finde das vorherige H2
      const prevH2 = headers.slice(0, headers.indexOf(el)).reverse().find(h => h.tagName === "H2");
      if (prevH2) {
        const h2Id = prevH2.id;
        const h2Li = h2Map[h2Id];
        let sublist = h2Li.querySelector('.toc-sublist');
        if (!sublist) {
          sublist = document.createElement('ul');
          sublist.className = 'toc-sublist';
          h2Li.appendChild(sublist);
          // Toggle-Button nur einmal pro H2
          const toggle = document.createElement('span');
          toggle.className = 'toc-toggle';
          toggle.textContent = '▸';
          toggle.onclick = () => {
            h2Li.classList.toggle('open');
            toggle.textContent = h2Li.classList.contains('open') ? '▾' : '▸';
          };
          h2Li.insertBefore(toggle, h2Li.firstChild);
        }
        const subli = document.createElement("li");
        subli.innerHTML = `<a href="#${id}">↳ ${el.textContent}</a>`;
        sublist.appendChild(subli);
      }
    }
  });

  function markActiveTOC() {
    let activeId = null;
    headers.forEach(el => {
      const rect = el.getBoundingClientRect();
      if (rect.top < 120) activeId = el.id;
    });
    document.querySelectorAll('#toc-list a').forEach(a => {
      a.parentElement.classList.toggle('active', a.getAttribute('href').slice(1) === activeId);
    });
    // Öffne die aktuelle H2-Gruppe
    document.querySelectorAll('#toc-list li').forEach(li => {
      if (li.querySelector('.active')) li.classList.add('open');
      else li.classList.remove('open');
      const toggle = li.querySelector('.toc-toggle');
      if (toggle) toggle.textContent = li.classList.contains('open') ? '▾' : '▸';
    });
  }
  window.addEventListener('scroll', markActiveTOC);
  markActiveTOC();
  </script>
  <script>
  const originalTitle = document.title;
  let timeout;

  window.addEventListener('blur', () => {
    timeout = setTimeout(() => {
      document.title = "👋 Vermisst du mich?";
    }, 600000);
  });

  window.addEventListener('focus', () => {
    clearTimeout(timeout);
    document.title = originalTitle;
  });
</script>



<!--<button onclick="updateCache()">Cache erneuern</button>
<script>
  function updateCache() {
    if ('serviceWorker' in navigator && navigator.serviceWorker.controller) {
      navigator.serviceWorker.getRegistrations().then(regs => {
        for (let reg of regs) {
          reg.unregister().then(() => {
            window.location.reload();
          });
        }
      });
    }
  }
</script>-->


  <script>
function clearCache() {
  if ('serviceWorker' in navigator && navigator.serviceWorker.controller) {
    navigator.serviceWorker.controller.postMessage('clear-cache');
    alert('Cache wurde geleert! Seite wird neu geladen.');
    window.location.reload();
  }
}
</script>
  <div style="text-align:center; margin:2em 0;">
    <a href="/about/">ℹ️ Mehr Infos</a> |
    <a href="/spenden/">💸 Spenden</a> 
  </div>

<script src="/assets/js/notifications.js"></script>
<script>
function getCookie(name) {
  const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
  return match ? decodeURIComponent(match[2]) : "";
}
function setCookie(name, value, days) {
  const expires = new Date(Date.now() + days*864e5).toUTCString();
  document.cookie = name + "=" + encodeURIComponent(value) + ";path=/;expires=" + expires;
}

// Typen mit Farbe und Dauer
const typeStyles = {
  info:    { color: "#1fa2ff", duration: 0 },
  success: { color: "#4caf50", duration: 4000 },
  warning: { color: "#ff9800", duration: 6000 },
  error:   { color: "#e53935", duration: 8000 }
};

const seen = getCookie("seenNotifications") ? getCookie("seenNotifications").split(",") : [];
const allNotes = window.NOTIFICATIONS || [];
const newNotes = allNotes.filter(n => !seen.includes(n.id));

// Zeige alle neuen Nachrichten als Banner untereinander
newNotes.forEach(n => {
  const style = typeStyles[n.type] || typeStyles.info;
  const div = document.createElement("div");
  div.className = "notification-banner";
  div.innerHTML = `<span>${n.message}</span> <a href="/${n.url}">Ansehen</a> <button onclick="this.parentElement.remove()">×</button>`;
  div.style = `
    position:fixed;left:50%;transform:translateX(-50%);
    background:${style.color};color:#111;font-weight:bold;
    padding:1em 2em;border-radius:1em;z-index:9999;
    box-shadow:0 2px 8px #0002;
    font-family:sans-serif;
    bottom:${2 + 4 * Array.from(document.querySelectorAll('.notification-banner')).length}em;
    margin-bottom:1em;
  `;
  document.body.appendChild(div);
  if (style.duration > 0) {
    setTimeout(() => div.remove(), style.duration);
  }
});

// Nach Anzeige als gesehen speichern
if (newNotes.length) {
  setCookie("seenNotifications", seen.concat(newNotes.map(n=>n.id)).join(","), 365);
}
</script>
<script>
// --- STERNENHIMMEL ANIMATION MIT PARALLAX UND BLINKEN ---

let starfieldAnimationId = null;
let starfieldActive = false;
let lastScrollY = window.scrollY;

function startStarfield() {
  const canvas = document.querySelector('.starfield-bg');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  let w = window.innerWidth, h = window.innerHeight;
  canvas.width = w;
  canvas.height = h;

  // Parallax-Faktor (0.3 = 30% der Scrollgeschwindigkeit)
  const PARALLAX = 0.3;

  // Sterne erzeugen
  const STAR_COUNT = 120;
  function newStar() {
    return {
      x: Math.random() * w,
      y: Math.random() * h,
      r: Math.random() * 1.2 + 0.3,
      blink: Math.random() * Math.PI * .1,
      speed: Math.random() * 0.2 + 0.15,
      life: Math.random() * 1.5 + 0.5, // Sekunden sichtbar
      age: 0
    };
  }
  let stars = Array.from({length: STAR_COUNT}, newStar);

  let lastTime = performance.now();

  function draw(now) {
    if (!starfieldActive) return;
    const dt = (now - lastTime) / 1000;
    lastTime = now;

    ctx.clearRect(0, 0, w, h);

    // Parallax-Offset berechnen
    const scrollY = window.scrollY;
    const parallaxOffset = scrollY * PARALLAX;

    for (let i = 0; i < stars.length; ++i) {
      let s = stars[i];
      s.age += dt;
      s.blink += s.speed * 0.25 + Math.random() * .3;
      // Wenn Lebensdauer vorbei: neuen Stern erzeugen
      if (s.age > s.life) {
        stars[i] = newStar();
        stars[i].y += parallaxOffset; // damit neue Sterne nicht "springen"
        continue;
      }
      // Alpha: schnelles Blinken
      const blinkAlpha = 0.3 + 0.7 * Math.abs(Math.sin(s.blink * 2));
      // Fade-in/out am Lebensanfang/-ende
      let fade = 1;
      if (s.age < 0.2) fade = s.age / 0.2;
      if (s.life - s.age < 0.2) fade = (s.life - s.age) / 0.2;
      const alpha = blinkAlpha * Math.max(0, fade);

      ctx.beginPath();
      ctx.arc(s.x, s.y - parallaxOffset, s.r, 0, 2 * Math.PI);
      ctx.fillStyle = `rgba(255,255,255,${alpha})`;
      ctx.shadowColor = "#0ff";
      ctx.shadowBlur = 8 * alpha;
      ctx.fill();
      ctx.shadowBlur = 0;
    }
    starfieldAnimationId = requestAnimationFrame(draw);
  }

  starfieldActive = true;
  lastTime = performance.now();
  draw(lastTime);

  function resize() {
    w = window.innerWidth;
    h = window.innerHeight;
    canvas.width = w;
    canvas.height = h;
    // Sterne neu verteilen
    stars = Array.from({length: STAR_COUNT}, newStar);
  }
  window.addEventListener('resize', resize);

  window.addEventListener('scroll', () => {
    // Kein Neuzeichnen nötig, da draw() sowieso läuft und scrollY abfragt
  });
}

function stopStarfield() {
  starfieldActive = false;
  if (starfieldAnimationId) {
    cancelAnimationFrame(starfieldAnimationId);
    starfieldAnimationId = null;
  }
  const canvas = document.querySelector('.starfield-bg');
  if (canvas) {
    const ctx = canvas.getContext('2d');
    ctx && ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
}

function handleStarfieldTheme() {
  const body = document.body;
  const canvas = document.querySelector('.starfield-bg');
  if (body.getAttribute('data-theme') === 'game') {
    canvas && (canvas.style.display = '');
    stopStarfield(); // Falls noch eine alte Animation läuft
    startStarfield();
  } else {
    stopStarfield();
    canvas && (canvas.style.display = 'none');
  }
}

// Theme-Wechsel erkennen (auch bei Button-Klicks)
document.addEventListener('DOMContentLoaded', handleStarfieldTheme);
const origSwitchTheme = window.switchTheme;
window.switchTheme = function(theme) {
  origSwitchTheme(theme);
  setTimeout(handleStarfieldTheme, 10); // Nach Attribut-Update
};
</script>
<script>
// --- POLLENPARTIKEL FÜR FOREST THEME ---
let pollenAnimId = null;
let pollenActive = false;

function startPollen() {
  const canvas = document.querySelector('.forest-pollen');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  let w = window.innerWidth, h = window.innerHeight;
  canvas.width = w; canvas.height = h;

  const PARALLAX = .5;
  const COUNT = 40;
  function newPollen() {
    return {
      x: Math.random()*w,
      y: Math.random()*h,
      r: Math.random()*3.5+0.5,
      dx: (Math.random()-0.5)*0.43,
      dy: Math.random()*0.38-0.13,
      alpha: Math.random()*0.3+0.2,
      life: Math.random()*2+3,
      age: 0
      
    };
  }
  let pollen = Array.from({length: COUNT}, newPollen);

  let lastTime = performance.now();

  function draw(now) {
    if (!pollenActive) return;
    const dt = (now - lastTime) / 1000;
    lastTime = now;

    ctx.clearRect(0,0,w,h);

    // Parallax-Offset
    const scrollY = window.scrollY;
    const parallaxOffset = scrollY * PARALLAX;

    for (let i = 0; i < pollen.length; ++i) {
      let p = pollen[i];
      p.age += dt;
      if (p.age > p.life) {
        pollen[i] = newPollen();
        pollen[i].y += parallaxOffset;
        continue;
      }
      // Fade-in/out
      let fade = 1;
      if (p.age < 1) fade = p.age ;
      if (p.life - p.age < 1) fade = (p.life - p.age) ;
      const alpha = p.alpha * Math.max(0, fade);

      ctx.beginPath();
      ctx.arc(p.x, p.y - parallaxOffset, p.r, 0, 2*Math.PI);
      ctx.fillStyle = `rgba(255,255,200,${alpha})`;
      ctx.shadowColor = "#fff";
      ctx.shadowBlur = 4;
      ctx.fill();
      ctx.shadowBlur = 0;
      p.x += p.dx; p.y += p.dy;
      //if (p.x<0) p.x=w; if (p.x>w) p.x=0;
      //if (p.y>h) { p.y=0; p.x=Math.random()*w; }
    }
    pollenAnimId = requestAnimationFrame(draw);
  }

  pollenActive = true;
  lastTime = performance.now();
  draw(lastTime);

  function resize() {
    w = window.innerWidth; h = window.innerHeight;
    canvas.width = w; canvas.height = h;
    pollen = Array.from({length: COUNT}, newPollen);
  }
  window.addEventListener('resize', resize);
}

function stopPollen() {
  pollenActive = false;
  if (pollenAnimId) cancelAnimationFrame(pollenAnimId);
  pollenAnimId = null;
  const canvas = document.querySelector('.forest-pollen');
  if (canvas) canvas.getContext('2d').clearRect(0,0,canvas.width,canvas.height);
}

function handlePollenTheme() {
  const body = document.body, canvas = document.querySelector('.forest-pollen');
  if (body.getAttribute('data-theme') === 'forest') {
    canvas && (canvas.style.display = '');
    stopPollen(); startPollen();
  } else {
    stopPollen(); canvas && (canvas.style.display = 'none');
  }
}

// Theme-Wechsel erkennen (wie bei Sternenhimmel)
document.querySelectorAll('a[href$="feed.xml"]').forEach(el => {
  el.href = "https://forms.gle/kDLjBrFRAX2mfBYA9"; // neuer Link
  el.textContent = "via E-mail";          // neuer Text
  el.target = "_blank";                             // optional: in neuem Tab öffnen
});

</script>

</body>
</html>

